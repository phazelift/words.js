(function(){"use strict";var t,r,n,e,o,i,s,u,h=[].slice,f={}.hasOwnProperty,p=function(t,r){function n(){this.constructor=t}for(var e in r)f.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};return"undefined"!=typeof window&&null!==window?t=window.Strings:"undefined"!=typeof module&&null!==module&&(t=require("strings.js")),u=t,s=function(t){var r,n,e,o,i;for(r=[],i=u.forceArray(t),e=0,o=i.length;o>e;e++)n=i[e],u.isString(n)&&r.push(n);return r},i=function(t){var r,n,e,o,i;for(r=[],i=u.forceArray(t),e=0,o=i.length;o>e;e++)n=i[e],u.isNumber(n)&&r.push(n+0);return r},e=function(r,n){var e,o,f,p,c,l,a,g,d,y,m;if(p=s(n),o=i(n),p.length>0&&this.set(t[r].apply(t,[this.string].concat(h.call(p)))),0===o[0]){for(d=[],c=0,a=o.length;a>c;c++)f=o[c],d.push(function(){var n,o,i;for(i=[],e=n=0,o=this.count-1;o>=0?o>=n:n>=o;e=o>=0?++n:--n)i.push(this.words[e]=t[r](this.words[e],f));return i}.call(this));return d}for(n.length<1&&(o=function(){y=[];for(var t=0,r=this.count;r>=0?r>=t:t>=r;r>=0?t++:t--)y.push(t);return y}.apply(this)),m=[],l=0,g=o.length;g>l;l++)e=o[l],e=u.positiveIndex(e,this.count),m.push(this.words[e]=t[r](this.words[e]));return m},n=function(){return function(t,r,n){var e;return!1!==(e=u.positiveIndex(t,r))?n(e):void 0}}(this),o=" ",r=function(r){function i(){this.set.apply(this,arguments)}return p(i,r),i.prototype.set=function(){var r,n,e,i,s,u,h;if(this.words=[],arguments.length<1)return this;for(e=0,s=arguments.length;s>e;e++)for(r=arguments[e],h=t.split(t.create(r),o),i=0,u=h.length;u>i;i++)n=h[i],this.words.push(n);return this},i.prototype.get=function(){var r,n,e,i;if(arguments.length<1)return this.words.join(o);for(n="",e=0,i=arguments.length;i>e;e++)r=arguments[e],r=u.positiveIndex(r,this.count),r!==!1&&(n+=this.words[r]+o);return t.trim(n)},i.prototype.xs=function(t){var r,n,e,o,i,s,h;if(null==t&&(t=function(){return!0}),u.notFunction(t)||this.count<1)return this;for(e=[],h=this.words,r=i=0,s=h.length;s>i;r=++i)o=h[r],(n=t(o,r))&&(n===!0?e.push(o):u.isStringOrNumber(n)&&e.push(n+""));return this.words=e,this},i.prototype.find=function(t){var r;return r=[],""!==(t=u.forceString(t))&&this.xs(function(n,e){return n===t&&r.push(e+1),!0}),r},i.prototype.upper=function(){return e.call(this,"upper",Array.prototype.slice.call(arguments)),this},i.prototype.lower=function(){return e.call(this,"lower",Array.prototype.slice.call(arguments)),this},i.prototype.reverse=function(){var r,e,o;if(0===(null!=arguments?arguments[0]:void 0))this.xs(function(r){return t.reverse(r)});else if(arguments.length>0)for(e=0,o=arguments.length;o>e;e++)r=arguments[e],n(r,this.count,function(r){return function(n){return r.words[n]=t.reverse(r.words[n])}}(this));else this.xs(function(t){return function(r,n){return t.get(t.count-n)}}(this));return this},i.prototype.shuffle=function(r){var e,o,i,s,h;if(null!=r)if(u.isString(r))for(o=0,s=arguments.length;s>o;o++)e=arguments[o],this.xs(function(){return function(r){return r===e?t.shuffle(r):!0}}(this));else if(0===r)this.xs(function(r){return t.shuffle(r)});else for(i=0,h=arguments.length;h>i;i++)e=arguments[i],n(e,this.count,function(r){return function(n){return r.words[n]=t.shuffle(r.words[n])}}(this));else this.words=u.shuffleArray(this.words);return this},i.prototype.clear=function(){return this.words=[],this},i.prototype.remove=function(){var t,r,n,e,o,s,h;if(arguments.length<1)return this;for(r=[],e=0,s=arguments.length;s>e;e++)t=arguments[e],u.isString(t)?r.unshift(t):u.isNumber(t)&&r.push(i.positiveIndex(t,this.count));for(r=u.noDupAndReverse(u.insertSort(r)),n=o=0,h=r.length;h>o;n=++o)t=r[n],u.isNumber(t)?this.xs(function(){return function(r,n){return n!==t?!0:void 0}}(this)):u.isString(t)&&this.xs(function(r){return r!==t?!0:void 0});return this},i.prototype.pop=function(t){var r,n;for(t=Math.abs(u.forceNumber(t,1)),r=n=1;t>=1?t>=n:n>=t;r=t>=1?++n:--n)this.words.pop();return this},i.prototype.push=function(){var r,n,e;for(n=0,e=arguments.length;e>n;n++)r=arguments[n],""!==(r=u.forceString(r))&&this.words.push(t.trim(r));return this},i.prototype.shift=function(t){var r,n;for(t=u.forceNumber(t,1),r=n=1;t>=1?t>=n:n>=t;r=t>=1?++n:--n)this.words.shift();return this},i.prototype.prepend=function(){var r,n,e,o;for(n=0,e=0,o=arguments.length;o>e;e++)r=arguments[e],""!==(r=u.forceString(r))&&(this.words.splice(n,0,t.trim(r)),n++);return this},i.prototype.insert=function(){var r,n,e,o,i,s;for(r=arguments[0],o=2<=arguments.length?h.call(arguments,1):[],r=u.positiveIndex(r,this.count),n=0,i=0,s=o.length;s>i;i++)e=o[i],""!==(e=u.forceString(e))&&(this.words.splice(r+n,0,t.trim(e)),n++);return this},i.prototype.replace=function(r,e){return null==e&&(e=""),""===(e=t.trim(e))?this:(u.isNumber(r)?n(r,this.count,function(t){return function(r){return t.words.splice(r,1,e)}}(this)):this.xs(function(t){return t===r?e:!0}),this)},i.prototype.sort=function(){return u.insertSort(this.words),this},i.prototype.startsWith=function(t){var r;return""===(t=u.forceString(t))?!1:(r=!0,t=new i(t),t.xs(function(t){return function(n,e){return n!==t.words[e]?r=!1:void 0}}(this)),r)},i.prototype.endsWith=function(t){var r,n,e,o,s;if(""===(t=u.forceString(t)))return!1;for(e=!0,r=1,t=new i(t),n=o=s=t.count;1>=s?1>=o:o>=1;n=1>=s?++o:--o)t.get(n)!==this.words[this.count-r++]&&(e=!1);return e},i}(t),Object.defineProperty(r.prototype,"$",{get:function(){return this.get()}}),Object.defineProperty(r.prototype,"string",{get:function(){return this.get()}}),Object.defineProperty(r.prototype,"count",{get:function(){return this.words.length}}),r.prototype.unshift=r.prototype.prepend,r.Strings=t,r.Types=t.Types,r.Chars=t.Chars,"undefined"!=typeof window&&null!==window?window.Words=r:"undefined"!=typeof module&&null!==module?module.exports=r:void 0}).call(this);