(function(){"use strict";var t,r,n,e,o,s,i,u,h,f=[].slice,p={}.hasOwnProperty,c=function(t,r){function n(){this.constructor=t}for(var e in r)p.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};return r=t=h=require("strings.js"),u=function(t){var r,n,e,o,s;for(r=[],s=h.forceArray(t),e=0,o=s.length;o>e;e++)n=s[e],h.isString(n)&&r.push(n);return r},i=function(t){var r,n,e,o,s;for(r=[],s=h.forceArray(t),e=0,o=s.length;o>e;e++)n=s[e],h.isNumber(n)&&r.push(n+0);return r},o=function(n,e){var o,s,p,c,l,a,g,d,y,m,w;if(c=u(e),s=i(e),c.length>0&&this.set(r[n].apply(r,[this.string].concat(f.call(c)))),0===s[0]){for(y=[],l=0,g=s.length;g>l;l++)p=s[l],y.push(function(){var r,e,s;for(s=[],o=r=0,e=this.count-1;e>=0?e>=r:r>=e;o=e>=0?++r:--r)s.push(this.words[o]=t[n](this.words[o],p));return s}.call(this));return y}for(e.length<1&&(s=function(){m=[];for(var t=0,r=this.count;r>=0?r>=t:t>=r;r>=0?t++:t--)m.push(t);return m}.apply(this)),w=[],a=0,d=s.length;d>a;a++)o=s[a],o=h.positiveIndex(o,this.count),w.push(this.words[o]=t[n](this.words[o]));return w},e=function(){return function(t,r,n){var e;return!1!==(e=h.positiveIndex(t,r))?n(e):void 0}}(this),s=" ",n=function(r){function n(){this.set.apply(this,arguments)}return c(n,r),n.prototype.set=function(){var r,n,e,o,i,u,h;if(arguments.length<1)return this;for(this.words=[],e=0,i=arguments.length;i>e;e++)for(r=arguments[e],h=t.split(t.create(r),s),o=0,u=h.length;u>o;o++)n=h[o],this.words.push(n);return this},n.prototype.get=function(){var r,n,e,o;if(arguments.length<1)return this.words.join(s);for(n="",e=0,o=arguments.length;o>e;e++)r=arguments[e],r=h.positiveIndex(r,this.count),r!==!1&&(n+=this.words[r]+s);return t.trim(n)},n.prototype.xs=function(t){var r,n,e,o,s,i,u;if(null==t&&(t=function(){return!0}),!(h.notFunction(t)||this.count<1)){for(e=[],u=this.words,r=s=0,i=u.length;i>s;r=++s)o=u[r],(n=t(o,r))&&(n===!0?e.push(o):h.isStringOrNumber(n)&&e.push(n+""));return this.words=e,this}},n.prototype.find=function(t){var r;return r=[],""!==(t=h.forceString(t))&&this.xs(function(n,e){return n===t&&r.push(e+1),!0}),r},n.prototype.upper=function(){return o.call(this,"upper",Array.prototype.slice.call(arguments)),this},n.prototype.lower=function(){return o.call(this,"lower",Array.prototype.slice.call(arguments)),this},n.prototype.reverse=function(){var r,n,o;if(0===(null!=arguments?arguments[0]:void 0))this.xs(function(r){return t.reverse(r)});else if(arguments.length>0)for(n=0,o=arguments.length;o>n;n++)r=arguments[n],e(r,this.count,function(r){return function(n){return r.words[n]=t.reverse(r.words[n])}}(this));else this.xs(function(t){return function(r,n){return t.get(t.count-n)}}(this));return this},n.prototype.shuffle=function(r){var n,o,s,i,u;if(null!=r)if(h.isString(r))for(o=0,i=arguments.length;i>o;o++)n=arguments[o],this.xs(function(){return function(r){return r===n?t.shuffle(r):!0}}(this));else if(0===r)this.xs(function(r){return t.shuffle(r)});else for(s=0,u=arguments.length;u>s;s++)n=arguments[s],e(n,this.count,function(r){return function(n){return r.words[n]=t.shuffle(r.words[n])}}(this));else this.words=h.shuffleArray(this.words);return this},n.prototype.clear=function(){return this.words=[],this},n.prototype.remove=function(){var t,r,e,o,s,i,u;if(arguments.length<1)return this;for(r=[],o=0,i=arguments.length;i>o;o++)t=arguments[o],h.isString(t)?r.unshift(t):h.isNumber(t)&&r.push(n.positiveIndex(t,this.count));for(r=h.noDupAndReverse(h.insertSort(r)),e=s=0,u=r.length;u>s;e=++s)t=r[e],h.isNumber(t)?this.xs(function(){return function(r,n){return n!==t?!0:void 0}}(this)):h.isString(t)&&this.xs(function(r){return r!==t?!0:void 0});return this},n.prototype.pop=function(t){var r,n;for(t=h.forceNumber(t,1),r=n=1;t>=1?t>=n:n>=t;r=t>=1?++n:--n)this.words.pop();return this},n.prototype.push=function(){var r,n,e;for(n=0,e=arguments.length;e>n;n++)r=arguments[n],""!==(r=h.forceString(r))&&this.words.push(t.trim(r));return this},n.prototype.shift=function(t){var r,n;for(t=h.forceNumber(t,1),r=n=1;t>=1?t>=n:n>=t;r=t>=1?++n:--n)this.words.shift();return this},n.prototype.prepend=function(){var r,n,e,o;for(n=e=0,o=arguments.length;o>e;n=++e)r=arguments[n],""!==(r=h.forceString(r))&&this.words.splice(n,0,t.trim(r));return this},n.prototype.insert=function(){var r,n,e,o,s,i;for(n=arguments[0],o=2<=arguments.length?f.call(arguments,1):[],n=h.positiveIndex(n,this.count),r=s=0,i=o.length;i>s;r=++s)e=o[r],""!==(e=h.forceString(e))&&this.words.splice(n+r,0,t.trim(e));return this},n.prototype.replace=function(r,n){return null==n&&(n=""),""===(n=t.trim(n))?this:(h.isNumber(r)?e(r,this.count,function(t){return function(r){return t.words.splice(r,1,n)}}(this)):this.xs(function(t){return t===r?n:!0}),this)},n.prototype.sort=function(){return h.insertSort(this.words),this},n.prototype.startsWith=function(t){var r;return""===(t=h.forceString(t))?!1:(r=!0,t=new n(t),t.xs(function(t){return function(n,e){return n!==t.words[e]?r=!1:void 0}}(this)),r)},n.prototype.endsWith=function(t){var r,e,o,s,i;if(""===(t=h.forceString(t)))return!1;for(o=!0,r=1,t=new n(t),e=s=i=t.count;1>=i?1>=s:s>=1;e=1>=i?++s:--s)t.get(e)!==this.words[this.count-r++]&&(o=!1);return o},n}(r),Object.defineProperty(n.prototype,"$",{get:function(){return this.get()}}),Object.defineProperty(n.prototype,"string",{get:function(){return this.get()}}),Object.defineProperty(n.prototype,"count",{get:function(){return this.words.length}}),n.prototype.unshift=n.prototype.prepend,n.Strings=r,n.Types=r.Types,n.Chars=r.Chars,"undefined"!=typeof window&&null!==window?window.Words=n:module?module.exports=n:void 0}).call(this);