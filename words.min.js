(function(){"use strict";var t,r,n,e,i,s,u=[].slice,o={}.hasOwnProperty,f=function(t,r){for(var n in r){if(o.call(r,n))t[n]=r[n]}function e(){this.constructor=t}e.prototype=r.prototype;t.prototype=new e;t.__super__=r.prototype;return t};r=t=s=require("strings.js");e=function(r,n){var e,i,o,f,h,p,l,a,c,g,d;if(s.isString(n!=null?n[0]:void 0)){return this.set(t[r].apply(t,[this.$].concat(u.call(n))))}else if((n!=null?n[0]:void 0)===0){c=[];for(o=0,p=n.length;o<p;o++){i=n[o];c.push(function(){var n,s,u;u=[];for(e=n=0,s=this.count-1;0<=s?n<=s:n>=s;e=0<=s?++n:--n){u.push(this.words[e]=t[r](this.words[e],i))}return u}.call(this))}return c}else{if(n.length<1){n=function(){g=[];for(var t=0,r=this.count;0<=r?t<=r:t>=r;0<=r?t++:t--){g.push(t)}return g}.apply(this)}d=[];for(h=0,l=n.length;h<l;h++){i=n[h];i=s.positiveIndex(i,this.count);d.push(this.words[i]=t[r](this.words[i]))}return d}};i=" ";n=function(r){f(n,r);function n(){Object.defineProperty(this,"$",{get:function(){return this.get()}});Object.defineProperty(this,"string",{get:function(){return this.get()}});Object.defineProperty(this,"count",{get:function(){return this.words.length}});this.set.apply(this,arguments)}n.prototype.set=function(){var r,n,e,s,u,o,f;if(arguments.length<1){return this}this.words=[];for(e=0,u=arguments.length;e<u;e++){r=arguments[e];f=t.split(t.create(r),i);for(s=0,o=f.length;s<o;s++){n=f[s];this.words.push(n)}}return this};n.prototype.get=function(){var r,n,e,u;if(arguments.length<1){return this.words.join(i)}n="";for(e=0,u=arguments.length;e<u;e++){r=arguments[e];r=s.positiveIndex(r,this.count);if(r!==false){n+=this.words[r]+i}}return t.trim(n)};n.prototype.xs=function(t){var r,n,e,i,u,o,f;if(t==null){t=function(){return true}}if(s.notFunction(t)||this.count<1){return}e=[];f=this.words;for(r=u=0,o=f.length;u<o;r=++u){i=f[r];if(n=t(i,r)){if(n===true){e.push(i)}else if(s.isStringOrNumber(n)){e.push(n)}}}this.words=e;return this};n.prototype.find=function(r,n){var e;e=[];if(""!==(r=t.force(r))){this.xs(function(i,s){var u,o,f,h,p;h=t.find(i,r);p=[];for(o=0,f=h.length;o<f;o++){u=h[o];if(n){p.push(e.push([s+1,u]))}else{p.push(e.push(s+1))}}return p})}return e};n.prototype.applyToValidIndex=function(t,r){var n;if(false!==(n=s.positiveIndex(t,this.count))){r(n)}return this};n.prototype.upper=function(){e.call(this,"upper",Array.prototype.slice.call(arguments));return this};n.prototype.lower=function(){e.call(this,"lower",Array.prototype.slice.call(arguments));return this};n.prototype.reverse=function(){var r,n,e;if((arguments!=null?arguments[0]:void 0)===0){this.xs(function(r){return t.reverse(r)})}else if(arguments.length>0){for(n=0,e=arguments.length;n<e;n++){r=arguments[n];this.applyToValidIndex(r,function(r){return function(n){return r.words[n]=t.reverse(r.words[n])}}(this))}}else{this.set(t.reverse(this.$))}return this};n.prototype.shuffle=function(r){var n,e,i,u,o;if(r!=null){if(s.isString(r)){for(e=0,u=arguments.length;e<u;e++){n=arguments[e];this.xs(function(r){return function(r,e){if(r===n){return t.shuffle(r)}return true}}(this))}}else if(r===0){this.xs(function(r){return t.shuffle(r)})}else{for(i=0,o=arguments.length;i<o;i++){n=arguments[i];this.applyToValidIndex(n,function(r){return function(n){return r.words[n]=t.shuffle(r.words[n])}}(this))}}}else{this.words=s.shuffleArray(this.words)}return this};n.prototype.clear=function(){this.words=[];return this};n.prototype.remove=function(){var t,r,n;if(arguments.length<1){return this}if((arguments!=null?arguments[0]:void 0)===0){return this.clear()}for(r=0,n=arguments.length;r<n;r++){t=arguments[r];if(s.isString(t)){this.xs(function(r){if(r!==t){return true}})}else{this.xs(function(r){return function(n){if(n!==r.words[s.positiveIndex(t,r.count)]){return true}}}(this))}}return this};n.prototype.pop=function(t){var r,n;if(t==null){t=1}for(r=n=1;1<=t?n<=t:n>=t;r=1<=t?++n:--n){this.words.pop()}return this};n.prototype.push=function(){var r,n,e;for(n=0,e=arguments.length;n<e;n++){r=arguments[n];if(s.isStringOrNumber(r)){this.words.push(t.trim(r))}}return this};n.prototype.shift=function(t){var r,n;if(t==null){t=1}for(r=n=1;1<=t?n<=t:n>=t;r=1<=t?++n:--n){this.words.shift()}return this};n.prototype.prepend=function(){var r,n,e;for(n=0,e=arguments.length;n<e;n++){r=arguments[n];if(s.isStringOrNumber(r)){this.words.unshift(t.trim(r))}}return this};n.prototype.insert=function(){var r,n,e,i,o;r=arguments[0],e=2<=arguments.length?u.call(arguments,1):[];if(s.isString(r)){return this.prepend.apply(this,arguments)}for(i=0,o=e.length;i<o;i++){n=e[i];this.words.splice(r,0,t.trim(n))}return this};n.prototype.replace=function(r,n){if(n==null){n=""}if(""===(n=t.trim(n))){return this}if(s.isNumber(r)){this.applyToValidIndex(r,function(t){return function(r){return t.words.splice(r,1,n)}}(this))}else{this.xs(function(t){if(t===r){return n}return true})}return this};return n}(r);n.prototype.unshift=n.prototype.prepend;if(typeof window!=="undefined"&&window!==null){return window.Words}if(module){return module.exports=n}}).call(this);